import cls_agenda as ag
import cls_turnos as tn
import os
def menu_4():
    print("----------------- AGENDA -----------------")
    print("1.- Abrir agenda 14 dias")
    print("2.- Mostrar fechas de agenda")
    print("0.- Volver atras")
    while True:
        try:
            opcion = int(input("Seleccione una opcion: "))
            if opcion == 1:
                if os.path.getsize("datos_agenda.csv") > 0:
                    print("Hay agenda abierta")
                else: 
                    nueva_agenda = (ag.agenda.abrir_agenda_14d())
                    nueva_agenda.obj2list()
                    ag.lista_objeto.append(nueva_agenda)
                    ag.str2csv()
                    tn.turnoxdia()
                    tn.str2csv()
                    print(f"Â¡Agenda abierta hasta el {nueva_agenda.fecha_fin}!")
            elif opcion == 2:
                if not ag.lista_objeto:
                    print("No hay agenda abierta")
                else:
                    for fechas in ag.lista_objeto:
                        print(fechas)      
            elif opcion == 0:
                return
            else:
                print("Opcion no valida, introduzca un valor correcto")
        except ValueError:
            print("Solo se permiten numeros")
